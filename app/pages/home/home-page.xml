
<Page xmlns="http://schemas.nativescript.org/tns.xsd" 
    xmlns:Lottie="nativescript-lottie" navigatingTo="navigatingTo" actionBarHidden="true" class="permobil-page">

    <ScrollView>
        <FlexboxLayout flexDirection="column" justifyContent="space-between">
            <FlexboxLayout flexDirection="row" justifyContent="center" marginTop="15" width="60%">
                <Image src="~/assets/images/permobil-logo.png" stretch="aspectFit" />
            </FlexboxLayout>
            <FlexboxLayout flexDirection="column" justifyContent="center">
                <StackLayout>
                    <Button text="{{ accelerometerBtnText }}" tap="{{ toggleAccelerometer }}" class="btn" />
                    <Label text="{{ accelerometerData }}" class="label font-small" visibility="{{ accelerometerData ? 'visible' : 'collapsed' }}" horizontalAlignment="center" textAlign="center" textWrap="true" />
                </StackLayout>
                <FlexboxLayout flexDirection="column" justifyContent="center">
                    <Button text="Heart Rate" tap="{{ startHeartRate }}" class="btn" />
                    <GridLayout height="85" rows="auto" columns="*" visibility="{{ isGettingHeartRate ? 'visible' : 'collapsed' }}">
                        <Lottie:LottieView row="0" col="0" horizontalAlignment="center" verticalAlignment="middle" src="pulse.json" height="100" width="100" loop="true" autoPlay="true" loaded="yourLoadedEvent" />
                        <Label row="0" col="0" text="{{ heartRate }}" class="heart-rate" textWrap="true" />
                    </GridLayout>
                </FlexboxLayout>
                <FlexboxLayout flexDirection="row" justifyContent="center">
                    <Button text="Alert" tap="{{ onAlertTap }}" class="btn" />
                </FlexboxLayout>
            </FlexboxLayout>
        </FlexboxLayout>
    </ScrollView>

</Page>